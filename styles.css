:root { --bg:#0e0e0f; --card:#17171a; --txt:#f5f5f5; --muted:#9aa0a6; --accent:#ff7a18; }
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
.hidden{display:none}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.55);z-index:1000}
.modal-body{position:relative;background:var(--card);border-radius:16px;padding:22px;max-width:780px;width:92%;box-shadow:0 20px 60px rgba(0,0,0,.4)}
.close{position:absolute;right:14px;top:12px;background:#222;border:0;color:#fff;border-radius:8px;padding:6px 10px;font-size:18px;cursor:pointer}
.modal-body h2{margin:0 0 10px}

/* Dashboard */
.dash{position:fixed;left:16px;top:16px;background:rgba(23,23,26,.92);backdrop-filter:blur(6px);border-radius:14px;padding:14px 16px;z-index:900;box-shadow:0 10px 26px rgba(0,0,0,.35);font-size:14px}
.dash h4{margin:0 0 8px;font-size:14px;color:var(--muted)}
.dash .row{display:flex;gap:10px;flex-wrap:wrap}
.dash .pill{background:#1f1f23;border:1px solid #2a2a2f;border-radius:10px;padding:8px 10px}
.badge{display:inline-block;margin-left:6px;padding:2px 8px;border-radius:999px;background:#222;color:#ddd;font-size:12px}

/* Leaflet popup knapper */
.leaflet-popup-content button{margin-top:8px;background:var(--accent);border:0;color:#111;padding:6px 10px;border-radius:8px;cursor:pointer}

/* ====== Udvidet modal-layout ====== */
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0 8px}
.kv{background:#1b1b1f;border:1px solid #2a2a2f;border-radius:10px;padding:10px}
.kv b{display:block;font-size:12px;color:var(--muted);margin-bottom:4px}
.kv .v{font-size:14px}

.badges{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0}
.badge-chip{background:#222;border:1px solid #333;color:#ddd;padding:4px 8px;border-radius:999px;font-size:12px}

.progress{height:8px;background:#222;border-radius:999px;overflow:hidden;border:1px solid #333}
.progress > span{display:block;height:100%;background:var(--accent);width:0%}

.flow{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-top:10px}
.flow .step{background:#1f1f23;border:1px solid #2a2a2f;border-radius:10px;padding:6px 10px}
.sep{opacity:.6}
.actions{display:flex;align-items:center;gap:10px;margin-top:10px}
.like{background:var(--accent);color:#111;border:0;border-radius:10px;padding:8px 12px;cursor:pointer}
.small{font-size:12px;color:var(--muted)}
/* Sikrer at .hidden altid vinder over .modal */
.modal.hidden { display: none !important; }

.map-ctrl{position:fixed;right:16px;top:16px;z-index:950;display:flex;gap:8px}
.map-ctrl button{background:#1f1f23;border:1px solid #2a2a2f;color:#eee;border-radius:10px;padding:8px 12px;cursor:pointer}
@media (max-width:480px){ .map-ctrl{right:10px;top:10px} .map-ctrl button{padding:10px 12px} }
.role-ctrl{
  position:fixed; right:16px; top:60px; z-index:950;
  background:#1f1f23; border:1px solid #2a2a2f; color:#eee;
  border-radius:10px; padding:6px 10px; display:flex; gap:8px; align-items:center;
}
.role-ctrl select{ background:#1f1f23; color:#eee; border:1px solid #2a2a2f; border-radius:8px; padding:4px 6px; }
@media (max-width:480px){ .role-ctrl{ right:10px; top:56px; } }

.map-ctrl button.ghost{
  background:#1a1a1d;
  border:1px dashed #2a2a2f;
}



